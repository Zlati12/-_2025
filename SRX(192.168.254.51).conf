## Last commit: 2025-01-30 09:33:27 UTC by zlati
version 12.1X47-D20.7;
system {
    host-name Auto-FBF-SRX-4;
    root-authentication {
        encrypted-password "$1$D0e3Nwbo$PMYvAVaAg7zxE66E7ZRU2/"; ## SECRET-DATA
        ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAgEAimS3MqQF9bPDJQU4i+OSM3iVnHFc9lIvdF+wViI8uFxiGKvzbIh3RzaxFQ0iusuId4oROCug8Z+mVeP33ATGrFD0ys+tUzmkg9n+bFlqOoNDnJFaAPMROsze+Rga6WCLAkIR6f7WuobHaEhQ9jwxWpkkKIuF2Q3DEmHT+wST229z3r+wTPeN6xyaEVLpHyTTonlXEDo8IdDdsrnBJdDCSYEiGcHSUREzP/x/scGwMspN8xx7jJpjFYSVEMbKBDaI6FcrPdfamayI+rGzx/7kmrc71UIe+JXL7ZwLb5o1SdMG2M1GppLnT+iovLeOycscBi8zQY5y/2nuAGl7CETdUNEcNbWDiFb1IgfbJmA8w9hV/w2PtJlaS4Z90UrWSd+gJUMQeDvLYS5jcGHCQP26A6rvmNJ6smtHeqVnxSAGSAE/rCJL/+t+JWxaZk6fQOMdnqHkFAN3G2Eq6LpCB4/g6udi1DiJF+SNQoT8GnML/K40Y5pbv1085Fyb2ACLRhbnA8w/hM8OxEs4smf1FRu20Py5tJcuzCGsL4ymCnpwSahMXkETM8i7Xgp5oTw4wunnoI2DCPOxfrMbuP9cxSIdRb+uENxtLCKL+yzYWEhTmOXaB1X5mDOCgyvMHXJxyzYPs5het0fDZ0pUi2lHLbVqMko8hUK3vXITXkAmtt9LA6s= rsa-key-20151110"; ## SECRET-DATA
    }
    login {
        user emil {
            uid 2000;
            class super-user;
            authentication {
                encrypted-password "$5$LxJiL.n7$TYXH5yAA91gz4JOkKTLSUrz4fhf7ufiFWLdrUGHM3//"; ## SECRET-DATA
            }
        }
        user juniper {
            uid 2001;
            class super-user;
            authentication {
                encrypted-password "$1$nkJd1kKZ$/.LaLW.fLE/qYKY7fzeoc."; ## SECRET-DATA
            }
        }
        user mircho {
            uid 2002;
            class super-user;
            authentication {
                encrypted-password "$1$Jc96XAa8$0KFVweR4Re/e82hjXbRDS."; ## SECRET-DATA
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDKYv7g5JIAzrRRBOvPzAzEgPxnKrqbPMSSjprCCHqUQ5ml3uXjqAqneyQnw4qG59IWRhWkwD44UwQ9KUM1Oc5y/b8LWwOfXw6weV14AOhWU/mfbJreILDLgpodj5+ERjDkjr/L6ZEgkHPqmFGV6SGjOnoHj2lGKae2XB0rvSA3Mim17/hK20VAGKU7S5Lq7EFZZ3urNm9KSor4T4dpy1V+uxxmpVo1Uh5VkVfiNfo1zyqlU8DQCQo1PIu0dbFe5FsWwPZmlTAflkWnNTvKp56xqdiZoAwyXEcS7M0Y69EHd7umidRoRN5dUBPNAWg4o7G0N0RbFS8CCVoykKmNv28n rsa-key-20240523"; ## SECRET-DATA
                ssh-dsa "ssh-dss AAAAB3NzaC1kc3MAAACAdm276eVsvKVNdAqlbsuRezlbUJqD8a6AtAxs4gGuEROM11YsXJUaZ2ZZwZ3F+OgL+tP0asIbybVBVVQ15mjLQ1R1CdPhF9jXQM2ctPbQBXoyWIpLUzVCkxuvA1FUHmYDir0NGqXe4USa+y/Qg5WY7euO+6sWku/Bw6VdMA7J5R8AAAAVAK+cJX2PE7LhDT8rthF/9lsT6pqRAAAAgED7/NzoNr/hOHLsyzAFFG9mFm4+EMOSX8ekHkMu48FrfLj6D55OvvauWQUas6vlKx1SiebAB2iJXbpvUFI0fm6Tla5KytJV14BfU42wLPbzEp3ST3NcZwyyvqgjaV+3qIj3ZhI9H3YKVZc37wWk98ze1XB2f7feMJE/DDVyV7GNAAAAgAOdmOU52zWUT9RT8jQ/GTcLMpqlyP4VQYPUJ8mXg6x37J5kPLYmvrHW581b1hf6A2ld8MrJEi0YOwRgvpd/7W8ZX3Ucc3arGTMzxnHYDIb/gQTxbB5o6OsCDEz6uBOzAApiKbEYp6b23Z7II/RhF2VCEvAvmenINQuNSQh1Xv0E dsa-key-20050812"; ## SECRET-DATA
                ssh-dsa "ssh-dss AAAAB3NzaC1kc3MAAAEBALQXRxeGaH0IVdAFuoDEnW8T13WWvJe4gjCCg9OhfdODZjLznlRZ0z0Zm7P6WfGqcntX+OVQrojpUzlLzq6VFi9vdHPIqVBvcr8XJhvmUlUrZE8jkWJrglTWQK2z1zM9W8Jk99q6bXPT5Cs4kMEQfW8goyT6yWO5DK/StiHeS6BHXGRoP9Bb4hlFaKJscb+wD1HbbBWOHeJqHgn3b0ws/WTMFWklAiiR9jOErcmAxZ+OFx5ukg2jbUM7RixMn9avo0UbqssGValzTnmkn8DjrI9BapdcFN8NVCyWSBWRRnGx3qzM4TmJbzQYsATJizrDkbs5ExOkMWUMc1vwm5ezfXMAAAAVAM8DKao/ts9vmpAiaIt454EP8MOVAAABAAhWrvO9VAN1dUyqdHs6aDw3HGIaQd/TMBqBT1xxMQn/TJEPOzdy8i5kbXp+H+UQl3i3PRRirsHVrsun/2m/FkH8atfkkGiV/iluqqxg7nZ1E/ImRnvxKnOpF6ypmiBoOoK9XaDu5T9dEA5lZsmtmG8Kz0ZGmaV2UUHi/EfXxv0CpIxMgDxIVioxcE63PXrAMck2/fNUOdXyvHr2h20hj3mYP2sDb9BHPmPmYwXdYXDa8cjcrc7LPPFnWEIoZ7jiHkFp/ywYWdgWwnrlmkibsIGBGqofgC/sR1ylWK2nJpDhNug7KVjTqGtqt5cM+6TAx7h27c/1CE8OdWLXkiI3vfAAAAEBAK7hrVKW2dJ1Ksi6qSaA4b3mOWvJfPtmr8CLVBpmhVYVJ970ha93a8AN2UBnUZDFg+CP8VWCaBU1JqTSzH5rB/SkyJ5DYl3Y0ANa6fPnS1UgWlG2KDrgCPvot55tv6eLvInTZAHF+RbmqCS9eZCNsRrT+J21F9tCw2xyhaynpQrTVfZPLbKrJ0EWcV/ry/qWGxJmoz6JgDf2PKFeu0xDnehJ+/XBSu4ftA1mOTXouFSI98LVFCUA7bvAFwju06Yn6Or7LF0io6ICDs9B9TQwrNa/AtrjG1uSpPXdMcS2n3uxOyr7oiV2np6JX5jGm75N8hJEimoOnYcwYI4aJMVFqX4= dsa-key-20240523"; ## SECRET-DATA
            }
        }
        user radi {
            uid 2003;
            class super-user;
            authentication {
                encrypted-password "$1$0ktWcfxH$dIKDBSIYxBL1lpbATkEdA1"; ## SECRET-DATA
            }
        }
        user rumen {
            uid 2004;
            class super-user;
            authentication {
                encrypted-password "$5$cf8rECHh$tTlpvN4WOGlDIMDxUznaWgZXNIwE9YB1sGApxJB6w2."; ## SECRET-DATA
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEA7/funw84V3fwaaemhghCbmK6a7g3iPCsV6Amk+C9LkDJNSr++aAITsawRKZ+lE/O53ih3A6UPce4acpI7kZjfLVBf6wRX1R6YFmOWRkSZ5yPd8+eg75qln5//ivp6xen6yEG+UhE8lT6kBSCS7UGbc//3R7absv+/XX6zepOsaiaXQa9oX58SKxTOYVfCAcwy5diAPjJQAAAQEA7/funw84V3fwaaemhghCbmK6a7g3iPCsV6Amk+C9LkDJNSr++aAITsawRKZ+lE/O53ih3A6UPce4acpI7kZjfLVBf6wRX1R6YFmOWRkSZ5yPd8+eg75qln5//ivp6xen6yEG+UhE8lT6kBSCS7UGbc//3R7absv+/XX6zepOsaiaXQa9oX58SKxTOYVfCAcwy5diAPj5iP5kk4t/8wCb5c/tE0MG0ywWzlgvntvCepMbd5pnjJ16Jd5bA5jxW612/Fqt4+E0uWZWdqO0Q02S5xnCMfscsPvoS3zQZetaQBdSRRsx7zbe5jyLzBdWIy3xg1jcty3OaEfzpSt+MLjvVQ=="; ## SECRET-DATA
            }
        }
        user smartcom {
            uid 2005;
            class super-user;
            authentication {
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAkRKD8E44jzotHgVXXNs+qfNLilWcef498cejl+yhrSFtXqJPf8lQ+/j+XQhbGnNn4FpwZ6HVo/DaVEim1pCbzwPgGse59BFr2zvCmQocnpWsKVQdcaCvrxibDA3r/+76Idw0vc+gFRlGnZD+uMm86u7HT5jnHI+7cNbVCvGp4gqCg4trjwCMX/Mqu2bITk4pqtn1FGhbq4d9UOXOLMqX+EWYK/pGP06zsC8+cIKrjbNAqz6F6Bn0TTKw4Aq0PLjK8YXrx+I56V9r8/rPvMraNvUVzIaFTMXuSA69CaVyx1K3A/pLrPJghA8V5JzpNmeTezPLHmy1jurqeKtyH6oiwQ== Smartcom Support rsa-key-20200119"; ## SECRET-DATA
            }
        }
        user venelin {
            uid 2006;
            class super-user;
            authentication {
                encrypted-password "$6$.TS.QSCQ$cqn4KsGATuSdv2O3uCT2sn2ar6ULMJYZ8HjwZ4VHZGg8mILcZnkwbb2EvUO2gMvKkeoSJ4MBO5bmh4zaNQDFc/"; ## SECRET-DATA
            }
        }
        user zlati {
            uid 2007;
            class super-user;
            authentication {
                encrypted-password "$1$oeXDOydT$aNZkXLX6vAMAf4/IpUGHW/"; ## SECRET-DATA
            }
        }
    }
    services {
        ssh {
            root-login deny-password;
        }
        netconf {
            ssh;
        }
        web-management {
            http {
                interface ge-0/0/2.0;
            }
            https {
                system-generated-certificate;
                interface ge-0/0/2.0;
            }
        }
    }
    syslog {
        user * {
            any emergency;
        }
        file messages {
            any any;
            authorization info;
        }
        file interactive-commands {
            interactive-commands any;
        }
    }
    license {
        autoupdate {
            url https://ae1.juniper.net/junos/key_retrieval;
        }
    }
}
interfaces {
    ge-0/0/0 {
        description "To MX Ingress";
        unit 0 {
            description Untrust;
            family inet {
                address 10.1.0.5/24;
            }
        }
    }
    ge-0/0/1 {
        description "From MX Egress";
        unit 0 {
            description Trust;
            family inet {
                address 10.1.1.5/24;
            }
        }
    }
    ge-0/0/2 {
        description Management;
        unit 0 {
            description "SMBG LAB LAN";
            family inet {
                address 192.168.254.51/24;
            }
        }
    }
}
snmp {
    community public {
        clients {
            192.168.254.0/24;
            193.178.153.0/24;
        }
        routing-instance MGMT;
    }
    routing-instance-access {
        access-list {
            *;
        }
    }
}
routing-options {
    autonomous-system 65001;
}
protocols {
    bgp {
        group MX-Egrees {
            peer-as 65001;
            neighbor 10.1.1.1;
        }
    }
}
security {
    flow {
        aging {
            early-ageout 30;
            low-watermark 10;
            high-watermark 15;
        }
        tcp-session {
            fin-invalidate-session;
            no-syn-check;
            no-sequence-check;
            tcp-initial-timeout 10;
            time-wait-state {
                session-timeout 30;
            }
        }
    }
    screen {
        ids-option untrust-screen {
            icmp {
                ping-death;
            }
            ip {
                source-route-option;
                tear-drop;
            }
            tcp {
                syn-flood {
                    alarm-threshold 1024;
                    attack-threshold 200;
                    source-threshold 1024;
                    destination-threshold 2048;
                    queue-size 2000; ## Warning: 'queue-size' is deprecated
                    timeout 20;
                }
                land;
            }
        }
    }
    policies {
        from-zone trust to-zone trust {
            policy default-permit {
                match {
                    source-address any;
                    destination-address any;
                    application any;
                }
                then {
                    permit;
                }
            }
        }
        from-zone trust to-zone untrust {
            policy default-permit {
                match {
                    source-address any;
                    destination-address any;
                    application any;
                }
                then {
                    reject;
                }
            }
        }
        from-zone untrust to-zone trust {
            policy my_app {
                match {
                    source-address any;
                    destination-address any;
                    application [ my_app ipperf junos-ping ];
                }
                then {
                    permit;
                }
            }
            policy default-deny {
                match {
                    source-address any;
                    destination-address any;
                    application any;
                }
                then {
                    deny;
                }
            }
        }
        policy-rematch;
        policy-stats {
            system-wide enable;
        }
    }
    zones {
        functional-zone management {
            interfaces {
                ge-0/0/2.0;
            }
            host-inbound-traffic {
                system-services {
                    all;
                }
                protocols {
                    all;
                }
            }
        }
        security-zone trust {
            tcp-rst;
            host-inbound-traffic {
                system-services {
                    all;
                }
                protocols {
                    all;
                }
            }
            interfaces {
                ge-0/0/1.0;
            }
        }
        security-zone untrust {
            screen untrust-screen;
            interfaces {
                ge-0/0/0.0 {
                    host-inbound-traffic {
                        system-services {
                            http;
                            https;
                            ssh;
                            telnet;
                            dhcp;
                        }
                    }
                }
            }
        }
    }
}
routing-instances {
    MGMT {
        instance-type virtual-router;
        interface ge-0/0/2.0;
        routing-options {
            static {
                route 0.0.0.0/0 next-hop 192.168.254.1;
            }
        }
    }
}
applications {
    application my_app {
        term 1 protocol tcp destination-port 80 inactivity-timeout 10;
        term 2 protocol tcp destination-port 443 inactivity-timeout 10;
    }
    application ipperf {
        term 1 protocol tcp destination-port 5201 inactivity-timeout 30;
        term 2 protocol udp destination-port 5201 inactivity-timeout 10;
    }
}
